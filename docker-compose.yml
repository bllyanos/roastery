services:
  lvl:
    build:
      context: ./lvl
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    environment:
      DB_CONNECTION: sqlite
      DB_DATABASE: /var/lib/database/database.sqlite
    # limit to 1 core and 1gb of ram
    deploy:
      resources:
        limits:
          cpus: 1
          memory: 1G
        reservations:
          cpus: 1
    volumes:
      - ./lvl_data:/var/lib/database
